{
  "name": "duckdb_list_files",
  "implementation": "tools.impl.duckdb_olap_tools_refactored.DuckDbListFilesTool",
  "description": "List available data files (CSV, Parquet, JSON) in the data directory for loading into DuckDB",
  "version": "1.0.0",
  "enabled": true,
  "data_directory": "/home/ashutosh/PycharmProjects/sajhamcpserver/data/duckdb",
  "inputSchema": {
    "type": "object",
    "properties": {
      "file_type": {
        "type": "string",
        "description": "Optional: Filter by file type",
        "enum": ["all", "csv", "parquet", "json", "tsv"]
      },
      "include_metadata": {
        "type": "boolean",
        "description": "Include file size and modification date",
        "default": true
      }
    }
  },
  "outputSchema": {
    "type": "object",
    "properties": {
      "data_directory": {
        "type": "string",
        "description": "Path to the data directory"
      },
      "files": {
        "type": "array",
        "description": "List of available data files",
        "items": {
          "type": "object",
          "properties": {
            "filename": {
              "type": "string",
              "description": "Name of the file"
            },
            "file_type": {
              "type": "string",
              "description": "File extension/type",
              "enum": ["csv", "parquet", "json", "tsv"]
            },
            "file_path": {
              "type": "string",
              "description": "Full or relative path to the file"
            },
            "file_size_bytes": {
              "type": "integer",
              "description": "File size in bytes"
            },
            "file_size_human": {
              "type": "string",
              "description": "Human-readable file size (e.g., '2.5 MB')"
            },
            "modified_date": {
              "type": "string",
              "description": "Last modification date (ISO format)"
            },
            "is_loaded": {
              "type": "boolean",
              "description": "Whether file is currently loaded as a table/view"
            },
            "table_name": {
              "type": "string",
              "description": "Name of table if file is loaded"
            }
          },
          "required": ["filename", "file_type", "file_path"]
        }
      },
      "total_files": {
        "type": "integer",
        "description": "Total number of files found"
      },
      "summary": {
        "type": "object",
        "description": "Summary statistics by file type",
        "properties": {
          "csv_count": {
            "type": "integer"
          },
          "parquet_count": {
            "type": "integer"
          },
          "json_count": {
            "type": "integer"
          },
          "tsv_count": {
            "type": "integer"
          },
          "total_size_bytes": {
            "type": "integer"
          }
        }
      }
    },
    "required": ["data_directory", "files", "total_files"]
  },
  "metadata": {
    "author": "Ashutosh Sinha",
    "category": "Data Analytics",
    "tags": ["duckdb", "files", "data", "directory"],
    "rateLimit": 60,
    "cacheTTL": 60,
    "note": "Discover available data files that can be loaded and queried with DuckDB",
    "examples": [
      {
        "description": "List all data files",
        "input": {
          "file_type": "all"
        }
      },
      {
        "description": "List only CSV files",
        "input": {
          "file_type": "csv",
          "include_metadata": true
        }
      },
      {
        "description": "List Parquet files without metadata",
        "input": {
          "file_type": "parquet",
          "include_metadata": false
        }
      }
    ]
  }
}
